{% extends "base.html" %}

{% block title %} US Congress Trends {% endblock %}

{% block links %}
<link href="{{MEDIA_ROOT}}media/css/trends.css" rel="stylesheet">
<script src="{{MEDIA_ROOT}}media/js/political-map.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>
<script>
	var tweetData ={{trendsArray|safe}};

</script>
{% endblock %}
{% block javascript %}
$(function () {
        $('#trends-canvas').highcharts({
            chart: {
                type: 'bar'
            },
            title: {
                text: 'Tweet Trends'
            },
            subtitle: {
                text: 'trends about {{trendValue}}'
            },
            xAxis: {
                categories: tweetData[0],
                title: {
                    text: 'Members of Congress'
                }
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Number of Tweets',
                    align: 'high'
                },
                labels: {
                    overflow: 'justify'
                }
            },
            tooltip: {
                valueSuffix: ' '
            },
            plotOptions: {
                bar: {
                    dataLabels: {
                        enabled: true
                    }
                }
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'top',
                x: -100,
                y: 100,
                floating: true,
                borderWidth: 1,
                backgroundColor: '#FFFFFF',
                shadow: true
            },
            credits: {
                enabled: false
            },
            series: [{
                name: 'tweets about "{{trendValue}}" ',
                color: '#FF7E33',
                data: tweetData[1]
            }]
        });
    });
{% endblock %}
{% block navbar_title %} US Congress {% endblock %}
{% block content %}

<div class="page-header" align="center" id="political-maps">
	<h1>Trends</h1>
</div>
<div class="container-fluid" id="trends_intro" style="text-align: center;">
	<p id="intro_to_trends">
		Wonder what the politicians are talking about? Do they spend more time talking about Bieber than tax law? Search any topic and time to see what drew the tweets from the representatives.
	</p>
</div>
<div style="alignment-adjust: center;">
	<form action="">
		<p id="formlabel">Phrase Search        </span><input name="trend" type="text" placeholder="ex golf, voting, gun control">
		<button type="submit" class="btn btn-warning" id="search_button">
			Search
		</button></p>
	</form>
</div>
<hr>
<div class="container-fluid">
	<div class="row-fluid">
		<div class="span4" id="trend_recommendations">
			<div class="row-fluid">
				<h3>Recommended Topics</h3>
				<br>
				Bailout
				<br>
				Israel
				<br>
			</div>
			<div class="row-fluid">
				<h3>Recent Searches</h3>
				<br>
				Gun Control
				<br>
				Boston Marathon
				<br>
			</div>
		</div>
			<div class="span8">
				<div id="trends-canvas" style="height: 100%; width: 100%; margin: 0 auto"></div>
			</div>

	</div>
</div>

{% endblock %}